<!DOCTYPE html>
<html lang="ko">
<head>
  <!--#include file="./inc/meta.inc" -->
  <title>SMP</title>
  <!--#include file="./inc/css.inc" -->
</head>
<body>
  <div id="skipNav" class="skip-nav">
    <a href="#gnb" class="skip-nav__item">메뉴 바로가기</a>
    <a href="#content" class="skip-nav__item">본문 바로가기</a>
  </div>
  <!--#include file="./inc/header.inc" -->
  <div id="content" class="content">
    <div class="container container--main">
      <div class="main-select">
        <div class="select main-select__select">
          <select class="select__box">
            <option>전체 서비스</option>
          </select>
        </div>
      </div>

      <div class="main-info">
        <div class="main-info__row">
          <div class="main-info__column">
            <div class="main-title">
              <h2 class="main-title__title">9월 청구 금액</h2>
              <div class="main-title__text">
                (<span class="date">2022-08-01</span>~<span class="text">2022-08-31</span>)
              </div>
            </div>
          </div>
          <div class="main-info__column">
            <div class="main-title">
              <h2 class="main-title__title">8월 청구 금액</h2>
              <div class="main-title__text">
                (<span class="date">2022-07-01</span>~<span class="text">2022-07-31</span>)
              </div>

            </div>
          </div>
        </div>
        <div class="main-info__row">
          <div class="main-info__column">
            <div class="main-title">
              <h2 class="main-title__title">월별 청구금액 <span class="small">(<span class="date">2021.09</span> ~ <span class="date">2022.08</span>)</span></h2>
            </div>

            <canvas class="main-graph" id="typeMonth"></canvas>
          </div>
          <div class="main-info__column">
            <div class="main-title">
              <h2 class="main-title__title">서비스별 청구금액</h2>
              <div class="select main-title__select">
                <select class="select__box">
                  <option>9월</option>
                </select>
              </div>
            </div>
          </div>
        </div>
        <div class="main-info__row">
          <div class="main-info__column">test</div>
        </div>
        <div class="main-info__row">
          <div class="main-info__column">test</div>
          <div class="main-info__column main-info__column--service service">
            <div class="service__column">
              SINGLEX Town
            </div>
            <div class="service__column">
              챗봇 플랫폼<br>체험하기
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!--#include file="./inc/script.inc" -->
  <script>
    const monthLabels = ['9월', '10월', '11월', '12월', '1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월']
    const monthData = {
      labels: monthLabels,
      datasets: [
        {
          label: '월별 청구 금액',
          barThickness: 15,
          backgroundColor: '#26B9D1',
          borderColor: '#26B9D1',
          data: [30000000, 30000000, 30000000, 30000000, 30000000, 30000000, 30000000, 30000000, 30000000, 30000000, 30000000, 40000000],
        }
      ]
    }
    const monthConfig = {
      type: 'bar',
      data: monthData,
      options: {
        scales: {
          x: {
            grid: {
              display: false,
            },
          },
          y: {
            ticks: {
              callback: function(value, index, values) {
                if (value >= 1000000000 || value <= -1000000000 ) {
                  return value / 1e9 + 'B';
                } else if (value >= 1000000 || value <= -1000000) {
                  return value / 1e6 + 'M';
                } else  if (value >= 1000 || value <= -1000) {
                  return value / 1e3 + 'K';
                }
                return value;
              }
            },
            legend: {
              display: false
            }
          },
        },
      }
    }
    const monthChart = new Chart(document.querySelector('#typeMonth'), monthConfig);
  </script>
</body>
</html>